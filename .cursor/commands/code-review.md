# コードレビューモード

## 目的

既存のコードをレビューし、改善点やベストプラクティスに従っているかを確認する

## レビュー観点

1. **コード品質**
   - 可読性
   - 保守性
   - 拡張性

2. **パフォーマンス**
   - 不要な再レンダリング
   - 重い計算処理
   - メモリリーク

3. **型安全性**
   - TypeScript型の適切な使用
   - any型の使用
   - 型推論の活用
   - \*.model.tsの活用

4. **ベストプラクティス**
   - React / Next.jsのベストプラクティス
   - このプロジェクトのコーディング規約
   - shadcn/uiの適切な使用

5. **アクセシビリティ**
   - セマンティックHTML
   - ARIA属性
   - キーボード操作

## 使用例

```
レビュー：components/project-card.tsx
レビュー：app/some-page/page.tsx
レビュー：lib/helpers/date-formatter.ts
```

## レビューの流れ

### ステップ1：コード理解

- ファイルの目的を把握
- 関連ファイルとの関係を確認
- 全体の構造を理解

### ステップ2：観点別チェック

各観点でコードをレビュー

### ステップ3：改善案の作成

- 具体的な改善コードを提示
- 変更理由を説明

### ステップ4：優先度付け

- Critical（即修正）
- High（近いうちに修正）
- Medium（余裕があれば修正）
- Low（将来的な改善案）

## レビュー報告フォーマット

````markdown
## コードレビュー：[ファイルパス]

### ファイル概要

**目的：** [ファイルの役割]
**レビュー日：** YYYY-MM-DD

### 総評

[全体的な評価と印象]

---

### ✅ 良い点

1. [良い点1]
2. [良い点2]

---

### ⚠️ 改善提案

#### 【Critical】[タイトル]

**現状：**

```typescript
// 現在のコード
```

**問題点：**
[問題の説明]

**改善案：**

```typescript
// 改善後のコード
```

**理由：**
[改善理由]

---

#### 【High】[タイトル]

...

---

#### 【Medium】[タイトル]

...

---

#### 【Low】[タイトル]

...

---

### 📋 チェックリスト

- [ ] TypeScript型が適切（\*.model.ts活用）
- [ ] アクセシビリティ対応
- [ ] パフォーマンス最適化済み
- [ ] コメントが適切
- [ ] テスタブルな構造
- [ ] プロジェクト規約に準拠

### 参考資料

- [関連ドキュメント](URL)
- [ベストプラクティス](URL)
````

## レビュー観点の詳細

### 1. コード品質

**チェック項目：**

- 関数・変数名は分かりやすいか
- 1つの関数が長すぎないか（目安：50行以内）
- 重複コードはないか
- マジックナンバーを定数化しているか

### 2. パフォーマンス

**チェック項目：**

- 不要な`useEffect`はないか
- `useMemo`, `useCallback`の過度な使用はないか
- Server Componentを活用しているか
- 画像最適化（Next.js Image）を使用しているか

### 3. 型安全性

**チェック項目：**

- `any`型を使用していないか
- 型アサーション（`as`）を多用していないか
- Propsの型定義は\*.model.tsに分離しているか
- 型推論を適切に活用しているか

### 4. ベストプラクティス

**チェック項目：**

- React Hooksのルールに従っているか
- Server ComponentとClient Componentを適切に使い分けているか
- shadcn/uiコンポーネントを適切に使用しているか
- Tailwind CSSのクラス名は適切か
- React系のimportは名前付きimportか

### 5. アクセシビリティ

**チェック項目：**

- セマンティックHTMLを使用しているか
- 画像にalt属性があるか
- ボタンはbutton要素を使用しているか
- ARIA属性が適切か

## レビュー時の心構え

1. **建設的なフィードバック**
   - 批判ではなく改善提案
   - 理由を明確に説明

2. **具体的な提案**
   - 「良くない」ではなく「こうすると良い」
   - コード例を提示

3. **優先度の明確化**
   - すぐ直すべきことと、将来的な改善を区別

4. **肯定的な姿勢**
   - 良い点も必ず挙げる
   - 学びの機会として捉える

## 注意事項

- このプロジェクトのコーディング規約に従う
- shadcn/uiの使い方に準拠しているか確認
- 個人開発なので、過度に厳格になりすぎない
- 実用性とベストプラクティスのバランスを取る
